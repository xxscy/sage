# RAG-COT æ¡†æ¶ vs åŸ SAGE æ¡†æ¶ï¼šç”¨æˆ·æŒ‡ä»¤ç†è§£æå‡ä¸åˆ›æ–°

## ğŸ“Š æ€»ä½“å¯¹æ¯”

| ç»´åº¦ | åŸ SAGE æ¡†æ¶ | RAG-COT æ¡†æ¶ | æå‡ç‚¹ |
|------|-------------|-------------|--------|
| **å†³ç­–æ¨¡å¼** | å•é˜¶æ®µç¡¬ç¼–ç è§„åˆ™ | ä¸¤é˜¶æ®µLLMè‡ªä¸»åˆ¤æ–­ | âœ… æ›´çµæ´»ã€æ›´æ™ºèƒ½ |
| **ä¿¡æ¯æ”¶é›†** | ä¸€æ¬¡æ€§ï¼Œç”±Agentè‡ªåŠ¨å†³å®š | å¤šæ­¥éª¤æ¸è¿›å¼æ”¶é›† | âœ… æ›´ç²¾å‡†ã€æ›´é«˜æ•ˆ |
| **ä¸Šä¸‹æ–‡åˆ©ç”¨** | é€šè¿‡å·¥å…·é“¾è·å–ï¼ˆUserProfileToolç­‰ï¼‰ | ç»“æ„åŒ–å¤šç»´åº¦ä¸Šä¸‹æ–‡èåˆ | âœ… æ›´ç³»ç»ŸåŒ– |
| **è®¾å¤‡æ¶ˆæ­§** | VLMå·¥å…·ï¼ˆé€šè¿‡SmartThingsToolï¼‰ | é›†æˆVLMåˆ°ä¿¡æ¯æ”¶é›†æµç¨‹ | âœ… æ›´æ—©é›†æˆ |
| **å†³ç­–ä¾æ®** | æ¨¡ç³Šåº¦+é£é™©ç¡¬ç¼–ç è§„åˆ™ | LLMæ·±åº¦æ¨ç† | âœ… æ›´æ™ºèƒ½ |

---

## ğŸ¯ æ ¸å¿ƒåˆ›æ–°ç‚¹

### 1. **ä¸¤é˜¶æ®µæ„å›¾ç†è§£æ¶æ„**

#### åŸ SAGE æ¡†æ¶
```python
# å•ä¸€å†³ç­–ç‚¹ï¼Œç¡¬ç¼–ç è§„åˆ™
IF (Ambiguity == High) AND (Risk == High) -> ä½¿ç”¨ human_interaction_tool
IF (Ambiguity == Low) OR (Risk == Low) -> ç›´æ¥æ‰§è¡Œ
```

#### RAG-COT æ¡†æ¶
```42:105:sage/testing/rag_cot/prompts.py
def build_intent_analysis_prompt(
    test_case: TestCaseInfo,
    user_preferences: Optional[Dict[str, Any]] = None,
    user_memory_snippets: Optional[List[str]] = None,
    context_summary: Optional[str] = None,
    device_lookup_notes: Optional[List[str]] = None,
    environment_overview: Optional[str] = None,
    tv_guide_knowledge: Optional[str] = None,
    weather_reports: Optional[List[str]] = None,
    device_state_focus: Optional[str] = None,
    target_device_context: Optional[str] = None,
) -> str:
    """
    æ„å»ºç”¨æˆ·æ·±å±‚æ„å›¾åˆ†æçš„ promptï¼Œä¾› LLM ç”Ÿæˆç»“æ„åŒ–æ„å›¾æè¿°ã€‚
    LLM éœ€è¦åˆ†æå‘½ä»¤å¹¶åˆ¤æ–­æ˜¯å¦æœ‰è¶³å¤Ÿä¿¡æ¯æ‰§è¡Œï¼Œè¾“å‡ºç»“æ„åŒ–ç»“æœã€‚
    """
    preferences_text = str(user_preferences) if user_preferences else "(unavailable)"
    memory_text = "\n".join(user_memory_snippets) if user_memory_snippets else "(unavailable)"
    context_summary_text = context_summary or "(unavailable)"
    environment_text = environment_overview or "(unavailable)"
    device_state_focus_text = device_state_focus or "(unavailable)"
    target_device_context_text = target_device_context or "(unavailable)"
    tv_guide_text = tv_guide_knowledge or "(unavailable)"

    return f"""# Role
You are an intent analysis module for a smart home assistant.

# Task
Analyze the command and determine if execution is possible with available information.

# Decision Process:
Examine the command and available context. Prefer saying "NO" (no clarification needed) when information is sufficient or can be reasonably inferred.

**Say "NO" (no clarification needed) when:**
- Device is identified through spatial references (location relative to objects or spaces) or explicit naming.
- Scope is unambiguous (applies to all relevant items or a single unique target).
- Intent can be inferred from purpose or context clues (commands describing desired state or purpose).
- Parameters can use sensible defaults (adjustment verbs without specific values).
- Requested information is available in the provided context.
- Only one relevant device exists or is active.

**Say "YES" (clarification needed) only when ALL conditions are met for critical information:**
- Device reference is ambiguous (pure pronoun without context) AND multiple candidate devices are active.
- Personal preference is explicitly referenced BUT preference data is unavailable.
- Specific content is required (definite article with category) BUT preferences or context cannot determine which.
- Term is unclear or undefined AND no context explains its meaning.

# Input
Command: "{test_case.user_command}"
User Preferences: {preferences_text}
Interaction History: {memory_text}
TV Guide: {tv_guide_text}
Device State: {device_state_focus_text}
Device Context: {target_device_context_text}
Environment: {environment_text}
Context Summary: {context_summary_text}
Device Lookup: {chr(10).join(device_lookup_notes) if device_lookup_notes else "(none)"}

# Output Format
Refined Command: [Specific actionable command - only if NO clarification needed]
Needs Clarification: [YES/NO]
Missing Information: [If YES: what is missing; if NO: "None"]
Confidence: [High/Low]
Risk Assessment: [Low/Medium/High]"""
```

**åˆ›æ–°ä»·å€¼ï¼š**
- âœ… **é˜¶æ®µ1ï¼šæ„å›¾åˆ†æ** - æ·±åº¦ç†è§£ç”¨æˆ·æ„å›¾ï¼Œè¾“å‡ºç»“æ„åŒ–åˆ†æç»“æœ
- âœ… **é˜¶æ®µ2ï¼šæœ€ç»ˆå†³ç­–** - åŸºäºæ„å›¾åˆ†æç»“æœï¼Œåšå‡ºACT/ASKå†³ç­–
- âœ… **ç»“æ„åŒ–è¾“å‡º** - åŒ…å«Refined Commandã€Confidenceã€Risk Assessmentç­‰ç»´åº¦

---

### 2. **å¤šæ­¥éª¤æ¸è¿›å¼ä¿¡æ¯æ”¶é›†ï¼ˆChain Plannerï¼‰**

#### åŸ SAGE æ¡†æ¶
- ä¾èµ–LangChain Agentè‡ªåŠ¨å†³å®šå·¥å…·è°ƒç”¨
- æ— æ³•æ§åˆ¶ä¿¡æ¯æ”¶é›†çš„é¡ºåºå’Œç­–ç•¥
- å¯èƒ½å‡ºç°ä¿¡æ¯æ”¶é›†ä¸å……åˆ†æˆ–è¿‡åº¦æ”¶é›†

#### RAG-COT æ¡†æ¶
```331:378:sage/testing/rag_cot/prompts.py
def build_chain_planner_prompt(
    *,
    test_case: TestCaseInfo,
    chain_history: List[Dict[str, Any]],
    preference_query_template: str,
    context_state: Dict[str, Any],
) -> str:
    """
    Prompt the LLM to decide the next action in the multi-step chain.
    """
    history_text = (
        "(none)"
        if not chain_history
        else "\n".join([f"Step {s['step']}: {s['action']} - {s['reasoning']}" for s in chain_history])
    )

    preference_status = "available" if context_state.get("user_preferences") else "missing"
    summary_status = "available" if context_state.get("context_summary") else "missing"
    device_facts_list = context_state.get("device_facts") or []
    device_fact_status = "available" if device_facts_list else "missing"
    device_facts_detail = _summarize_device_lookup_notes(device_facts_list)
    weather_status = "available" if context_state.get("weather_facts") else "missing"
    device_state_focus_text = context_state.get("device_state_focus") or "(unavailable)"
    failure_notes = context_state.get("failure_notes") or []
    failure_notes_summary = _summarize_failure_notes(failure_notes)

    return f"""Select the next tool to gather information. Do not infer final answer.

**Command:** "{test_case.user_command}"

**Status:**
Preferences: {preference_status}
Device Facts: {device_fact_status}
{device_facts_detail}
Context Summary: {summary_status}
Weather: {weather_status}
Device State: {device_state_focus_text}
Failures: {failure_notes_summary}

**Tools:**
1. preference_lookup: {{"query": "<english>"}} (default: "{preference_query_template}")
2. device_lookup: {{"query": "<device/action>"}}
3. weather_lookup: {{"query": "<City, Country>"}}
4. context_summary: {{}}
5. final_decision: {{}} (when sufficient or no more info available)

**Output (JSON only):**
{{"thought": "<reason>", "action": "<tool_name>", "query": "<optional>"}}"""
```

**åˆ›æ–°ä»·å€¼ï¼š**
- âœ… **è‡ªä¸»è§„åˆ’** - LLMè‡ªä¸»å†³å®šéœ€è¦æ”¶é›†å“ªäº›ä¿¡æ¯ï¼ŒæŒ‰éœ€è°ƒç”¨å·¥å…·
- âœ… **æ¸è¿›å¼æ”¶é›†** - å¤šè½®å¾ªç¯ï¼Œé€æ­¥ç§¯ç´¯ä¸Šä¸‹æ–‡ä¿¡æ¯
- âœ… **å¤±è´¥å¤„ç†** - è®°å½•å¤±è´¥ä¿¡æ¯ï¼Œé¿å…é‡å¤æŸ¥è¯¢
- âœ… **çŠ¶æ€è·Ÿè¸ª** - å®æ—¶è·Ÿè¸ªå·²æ”¶é›†çš„ä¿¡æ¯çŠ¶æ€

---

### 3. **å¤šç»´åº¦ä¸Šä¸‹æ–‡èåˆ**

#### åŸ SAGE æ¡†æ¶
- ä¸»è¦ä¾èµ–ç”¨æˆ·åå¥½å’ŒåŸºç¡€è®¾å¤‡ä¿¡æ¯
- ä¸Šä¸‹æ–‡ä¿¡æ¯æœ‰é™

#### RAG-COT æ¡†æ¶
æ”¯æŒä»¥ä¸‹å¤šç»´åº¦ä¸Šä¸‹æ–‡ï¼š

1. **ç”¨æˆ·åå¥½ï¼ˆUser Preferencesï¼‰**
2. **äº¤äº’å†å²ï¼ˆInteraction Historyï¼‰**
3. **TVæŒ‡å—çŸ¥è¯†ï¼ˆTV Guide Knowledgeï¼‰** - ç”¨äºå†…å®¹æ¨è
4. **è®¾å¤‡çŠ¶æ€ï¼ˆDevice Stateï¼‰**
5. **ç¯å¢ƒæ¦‚è§ˆï¼ˆEnvironment Overviewï¼‰**
6. **å¤©æ°”ä¿¡æ¯ï¼ˆWeather Reportsï¼‰**
7. **è®¾å¤‡æŸ¥æ‰¾ç»“æœï¼ˆDevice Lookup Notesï¼‰**
8. **VLMè§†è§‰æ¶ˆæ­§ç»“æœï¼ˆVLM Disambiguationï¼‰**

```232:287:sage/testing/rag_cot/prompts.py
def build_cot_prompt(
    test_case: TestCaseInfo,
    user_preferences: Optional[Dict[str, Any]] = None,
    user_memory_snippets: Optional[List[str]] = None,
    examples: List[TestCaseInfo] = None,  # ä¿ç•™å‚æ•°ä»¥ä¿æŒå…¼å®¹æ€§ï¼Œä½†ä¸å†ä½¿ç”¨ï¼ˆé›¶æ ·æœ¬æ¨¡å¼ï¼‰
    context_summary: Optional[str] = None,
    device_lookup_notes: Optional[List[str]] = None,
    intent_analysis: Optional[str] = None,
    environment_overview: Optional[str] = None,
    tv_guide_knowledge: Optional[str] = None,
    weather_reports: Optional[List[str]] = None,
    device_state_focus: Optional[str] = None,
    target_device_context: Optional[str] = None,
    intent_reasoning_enabled: bool = True,
    effective_user_name: Optional[str] = None,
) -> str:
    """
    æ„å»º COTï¼ˆChain of Thoughtï¼‰æ¨ç†æç¤ºè¯ã€‚
    æ‰€æœ‰åˆ¤æ–­éƒ½ç”± LLM å®Œæˆï¼Œä»£ç åªè´Ÿè´£ä¼ é€’ä¿¡æ¯ã€‚
    """
    # ä» Intent Analysis æå– LLM çš„åˆ¤æ–­ç»“æœ
    needs_clarification = _extract_needs_clarification(intent_analysis)
    missing_info = _extract_missing_information(intent_analysis)
    refined_command = _extract_refined_command(intent_analysis)
    
    # æ„å»ºä¸Šä¸‹æ–‡æ‘˜è¦ï¼ˆåªä¼ é€’ä¿¡æ¯ï¼Œä¸åšåˆ¤æ–­ï¼‰
    context_parts = []
    
    # 1. Intent Analysis ç»“æœï¼ˆå®Œæ•´æ˜¾ç¤ºï¼Œè®©æœ€ç»ˆå†³ç­– LLM è‡ªå·±åˆ¤æ–­ï¼‰
    if intent_analysis:
        context_parts.append(f"**Intent Analysis Result:**\n{intent_analysis}")
    
    # 2. ç”¨æˆ·ä¿¡æ¯
    context_parts.append(f"**User:** {effective_user_name or 'unknown'}")
    
    # 3. ç”¨æˆ·åå¥½ï¼ˆåŸæ ·ä¼ é€’ï¼Œè®© LLM è‡ªå·±åˆ¤æ–­æ˜¯å¦è¶³å¤Ÿï¼‰
    if user_preferences:
        context_parts.append(f"**User Preferences:** {user_preferences}")
    else:
        context_parts.append("**User Preferences:** (not available)")
    
    # 4. è®¾å¤‡å’Œç¯å¢ƒä¿¡æ¯ï¼ˆåŸæ ·ä¼ é€’ï¼‰
    if environment_overview:
        context_parts.append(f"**Environment:** {environment_overview}")
    if device_state_focus:
        context_parts.append(f"**Device State:** {device_state_focus}")
    if target_device_context:
        context_parts.append(f"**Device Context:** {target_device_context}")
    if device_lookup_notes:
        context_parts.append(f"**Available Devices:**\n{chr(10).join(device_lookup_notes)}")
    if context_summary:
        context_parts.append(f"**Context Summary:** {context_summary}")
    
    context_text = "\n\n".join(context_parts) if context_parts else "(unavailable)"
    
    return _build_voi_decision_prompt(test_case, context_text)
```

**åˆ›æ–°ä»·å€¼ï¼š**
- âœ… **å…¨é¢æ€§** - æ•´åˆå¤šç»´åº¦ä¸Šä¸‹æ–‡ä¿¡æ¯
- âœ… **é’ˆå¯¹æ€§** - æ ¹æ®å‘½ä»¤ç±»å‹åŠ¨æ€é€‰æ‹©ç›¸å…³ä¸Šä¸‹æ–‡
- âœ… **å¯æ‰©å±•æ€§** - æ˜“äºæ·»åŠ æ–°çš„ä¸Šä¸‹æ–‡ç»´åº¦

---

### 4. **VLMè§†è§‰è®¾å¤‡æ¶ˆæ­§çš„é›†æˆæ–¹å¼**

#### åŸ SAGE æ¡†æ¶
- VLMé€šè¿‡ `DeviceDisambiguationTool` é›†æˆåœ¨ `SmartThingsTool` çš„å·¥å…·é“¾ä¸­
- ä½œä¸ºè®¾å¤‡æ“ä½œæµç¨‹ä¸­çš„ä¸€éƒ¨åˆ†è¢«è°ƒç”¨
- Agentæ ¹æ®éœ€è¦å†³å®šä½•æ—¶è°ƒç”¨VLMå·¥å…·

#### RAG-COT æ¡†æ¶
- VLMé›†æˆåœ¨ä¿¡æ¯æ”¶é›†é˜¶æ®µï¼Œç”¨äºè®¾å¤‡æŸ¥æ‰¾åçš„æ¶ˆæ­§
- åœ¨å¤šæ­¥éª¤ä¿¡æ¯æ”¶é›†ä¸­ä¸»åŠ¨è§¦å‘VLMæ¶ˆæ­§
- å°†VLMç»“æœä½œä¸ºä¸Šä¸‹æ–‡ä¿¡æ¯ä¼ é€’ç»™å†³ç­–é˜¶æ®µ

**å·®å¼‚ä»·å€¼ï¼š**
- âœ… **æ›´æ—©é›†æˆ** - åœ¨ä¿¡æ¯æ”¶é›†é˜¶æ®µå°±ä½¿ç”¨VLMï¼Œè€Œéç­‰åˆ°æ‰§è¡Œé˜¶æ®µ
- âœ… **ä¸Šä¸‹æ–‡æ„ŸçŸ¥** - VLMç»“æœä½œä¸ºå†³ç­–ä¸Šä¸‹æ–‡çš„ä¸€éƒ¨åˆ†
- âœ… **ä¸»åŠ¨æ¶ˆæ­§** - åœ¨ä¿¡æ¯æ”¶é›†æµç¨‹ä¸­ä¸»åŠ¨è§¦å‘ï¼Œè€Œéè¢«åŠ¨ç­‰å¾…Agentè°ƒç”¨

---

### 5. **å®Œå…¨LLMé©±åŠ¨çš„å†³ç­–ï¼ˆæ— ç¡¬ç¼–ç è§„åˆ™ï¼‰**

#### åŸ SAGE æ¡†æ¶
```1:31:sage/coordinators/prompts.py
"""Prompts for the coordinators"""
ACTIVE_REACT_COORDINATOR_PREFIX = """

You are an intelligent agent controlling a smart home. You have access to tools to control devices and communicate with the user.



**CORE DECISION PROTOCOL (Follow Strict Step-by-Step):**



1. **ANALYZE INTENT**: Infer the user's specific goal based on context and memory. Use `user_profile_tool` if helpful.

2. **EVALUATE AMBIGUITY**: Is the request vague? (e.g. "turn it on" vs "turn on the kitchen light").

3. **ASSESS RISK (The "Recall" Test)**:

   - Imagine you guess the user's intent and execute it immediately without asking.

   - If you guessed WRONG, is the consequence severe? (e.g. unlocking doors, turning off heating in winter, deleting data) -> **HIGH RISK**.

   - If the consequence is minor or easily reversible? (e.g. playing the wrong song, turning on the wrong light, changing to the wrong TV channel) -> **LOW RISK**.



4. **ACTION SELECTION**:

   - **CASE A (High Risk & Ambiguity):** IF (Ambiguity == High) AND (Risk == High) -> **MUST USE `human_interaction_tool`** to clarify.

   - **CASE B (Low Risk OR Clear Intent):** IF (Ambiguity == Low) OR (Risk == Low) -> **DO NOT ASK**. Infer the most likely action and EXECUTE immediately. It is better to act and correct later than to annoy the user with trivial questions.
```

ç¡¬ç¼–ç çš„IF-ELSEè§„åˆ™ï¼Œç¼ºä¹çµæ´»æ€§ã€‚

#### RAG-COT æ¡†æ¶
```290:328:sage/testing/rag_cot/prompts.py
def _build_voi_decision_prompt(
    test_case: TestCaseInfo,
    context_text: str,
) -> str:
    """æœ€ç»ˆå†³ç­– prompt - å®Œå…¨ç”± LLM è‡ªä¸»åˆ¤æ–­ï¼Œæ— ç¡¬ç¼–ç è§„åˆ™"""
    
    return f"""# Role
You are SAGE, a smart home assistant.

# Task
Decide: **ACT** (execute directly) or **ASK** (clarify first).

# Decision Process:
Make a decision based on the clarity of the command and available context. Prefer ACT when information is sufficient or can be reasonably inferred.

**Important:** If Intent Analysis indicates "Needs Clarification: NO", you should ACT unless there is a clear reason not to.

**ACT (execute directly) when:**
- Device or target is identified through spatial references (location relative to objects or spaces) or explicit naming.
- Scope is unambiguous (applies to all relevant items or a single unique target).
- Intent can be inferred from purpose or context clues (commands describing desired state or purpose).
- Parameters can use sensible defaults (adjustment verbs without specific values).
- Necessary information is available in the provided context (queries about state, value, or condition with available data).

**ASK (clarify first) only when ALL conditions are met for critical information:**
- Device reference is ambiguous (pure pronoun without context) AND multiple candidate devices are active.
- Personal preference is explicitly referenced BUT preference data is unavailable.
- Specific content is required (definite article with category) BUT preferences or context cannot determine which.
- Term is unclear or undefined AND no context explains its meaning.

# Context
**Original Request:** "{test_case.user_command}"

{context_text}

# Output
Thought: [Analyze the command and context. If Intent Analysis says "Needs Clarification: NO", you should ACT unless there is a clear reason not to. Prefer ACT when information is sufficient or can be reasonably inferred.]
Decision: [ACT / ASK]
Question: [If ASK, your clarifying question; if ACT, leave empty]"""
```

**åˆ›æ–°ä»·å€¼ï¼š**
- âœ… **çµæ´»æ€§** - LLMå¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µåšå‡ºåˆ¤æ–­ï¼Œä¸å—ç¡¬ç¼–ç è§„åˆ™é™åˆ¶
- âœ… **æ™ºèƒ½æ€§** - èƒ½å¤Ÿå¤„ç†å¤æ‚è¾¹ç•Œæƒ…å†µ
- âœ… **å¯è§£é‡Šæ€§** - é€šè¿‡Thoughtå­—æ®µæä¾›å†³ç­–ç†ç”±

---

### 6. **é›¶æ ·æœ¬å­¦ä¹ ï¼ˆZero-Shotï¼‰**

#### åŸ SAGE æ¡†æ¶
- ä¾èµ–Few-shotç¤ºä¾‹å­¦ä¹ 

#### RAG-COT æ¡†æ¶
- å®Œå…¨é›¶æ ·æœ¬æ¨¡å¼ï¼Œä¸ä¾èµ–ç¤ºä¾‹
- é€šè¿‡ç²¾å¿ƒè®¾è®¡çš„promptå¼•å¯¼LLMç†è§£ä»»åŠ¡

**åˆ›æ–°ä»·å€¼ï¼š**
- âœ… **é€šç”¨æ€§** - ä¸ä¾èµ–ç‰¹å®šç¤ºä¾‹ï¼Œæ›´é€šç”¨
- âœ… **å¯ç»´æŠ¤æ€§** - ä¸éœ€è¦ç»´æŠ¤ç¤ºä¾‹åº“
- âœ… **é€‚åº”æ€§** - æ›´å®¹æ˜“é€‚åº”æ–°åœºæ™¯

---

## ğŸ“ˆ æ€§èƒ½æå‡

æ ¹æ®æµ‹è¯•ç»“æœï¼ˆ`2026-01-05_22-09-59_250128`ï¼‰ï¼š

- **æ€»ä½“å‡†ç¡®ç‡**: 71.74% (33/46)
- **å„ç±»å‹å‡†ç¡®ç‡**:
  - persistence: 100.00% (4/4)
  - simple: 85.71% (6/7)
  - human_interaction: 75.00% (3/4)
  - intent_resolution: 70.83% (17/24)
  - device_resolution: 69.44% (25/36)
  - command_chaining: 62.50% (5/8)
  - personalization: 54.55% (6/11)

---

## ğŸ”‘ å…³é”®è®¾è®¡ç†å¿µå·®å¼‚

### åŸ SAGE æ¡†æ¶
- **æ··åˆæ¨¡å¼** - Coordinatorå±‚é¢æœ‰ç¡¬ç¼–ç è§„åˆ™ï¼Œå·¥å…·å±‚é¢LLMé©±åŠ¨
- **Agentè‡ªä¸»å†³ç­–** - ä½¿ç”¨ReAct Agentæ¡†æ¶ï¼ŒLLMè‡ªä¸»å†³å®šå·¥å…·è°ƒç”¨
- **å•é˜¶æ®µå†³ç­–** - åœ¨Coordinatorå±‚é¢ä¸€æ¬¡æ€§åˆ¤æ–­æ˜¯å¦éœ€è¦human_interaction_tool
- **å·¥å…·é“¾è°ƒç”¨** - é€šè¿‡å·¥å…·é“¾ï¼ˆUserProfileToolã€SmartThingsToolç­‰ï¼‰è·å–ä¿¡æ¯
- **VLMé›†æˆ** - VLMä½œä¸ºSmartThingsToolçš„å·¥å…·é“¾ä¸€éƒ¨åˆ†

### RAG-COT æ¡†æ¶
- **çº¯LLMé©±åŠ¨** - å†³ç­–å±‚é¢å®Œå…¨ç”±LLMè‡ªä¸»åˆ¤æ–­ï¼Œæ— ç¡¬ç¼–ç è§„åˆ™
- **å¤šé˜¶æ®µå†³ç­–** - æ„å›¾åˆ†æ + æœ€ç»ˆå†³ç­–
- **æ˜¾å¼ä¿¡æ¯æ”¶é›†è§„åˆ’** - é€šè¿‡Chain Planneræ˜¾å¼è§„åˆ’ä¿¡æ¯æ”¶é›†æ­¥éª¤
- **ç»“æ„åŒ–ä¸Šä¸‹æ–‡** - ç³»ç»ŸåŒ–æ”¶é›†å’Œæ±‡æ€»å¤šç»´åº¦ä¸Šä¸‹æ–‡
- **æ—©æœŸVLMé›†æˆ** - VLMåœ¨ä¿¡æ¯æ”¶é›†é˜¶æ®µä¸»åŠ¨è§¦å‘

---

## ğŸ¯ æ€»ç»“

RAG-COTæ¡†æ¶åœ¨ç”¨æˆ·æŒ‡ä»¤ç†è§£æ–¹é¢çš„æ ¸å¿ƒæå‡ï¼š

### çœŸæ­£çš„åˆ›æ–°ç‚¹ï¼š
1. âœ… **ä¸¤é˜¶æ®µæ„å›¾ç†è§£æ¶æ„** - æ„å›¾åˆ†æ + æœ€ç»ˆå†³ç­–ï¼Œç»“æ„åŒ–è¾“å‡º
2. âœ… **æ˜¾å¼ä¿¡æ¯æ”¶é›†è§„åˆ’ï¼ˆChain Plannerï¼‰** - å¤šæ­¥éª¤æ¸è¿›å¼ï¼Œå¯æ§çš„ä¿¡æ¯æ”¶é›†æµç¨‹
3. âœ… **ç»“æ„åŒ–ä¸Šä¸‹æ–‡æ±‡æ€»** - ç»Ÿä¸€çš„ä¸Šä¸‹æ–‡æ±‡æ€»æœºåˆ¶ï¼Œä¾¿äºå†³ç­–ä½¿ç”¨
4. âœ… **çº¯LLMé©±åŠ¨çš„å†³ç­–** - å†³ç­–å±‚é¢æ— ç¡¬ç¼–ç è§„åˆ™ï¼Œå®Œå…¨ç”±LLMåˆ¤æ–­

### æ”¹è¿›çš„ä½¿ç”¨æ–¹å¼ï¼š
1. âœ… **VLMçš„æ—©æœŸé›†æˆ** - åœ¨ä¿¡æ¯æ”¶é›†é˜¶æ®µä¸»åŠ¨ä½¿ç”¨VLMï¼Œè€Œéç­‰åˆ°æ‰§è¡Œé˜¶æ®µ
2. âœ… **ç³»ç»ŸåŒ–çš„ä¸Šä¸‹æ–‡ç®¡ç†** - æ˜¾å¼è§„åˆ’ä¸Šä¸‹æ–‡æ”¶é›†ï¼Œç»Ÿä¸€æ±‡æ€»å’Œä¼ é€’
3. âœ… **æ›´å¥½çš„å¯è§£é‡Šæ€§** - ç»“æ„åŒ–è¾“å‡ºï¼ŒåŒ…å«æ¨ç†è¿‡ç¨‹å’Œä¸Šä¸‹æ–‡æ¥æº

### å…±åŒæ‹¥æœ‰çš„æŠ€æœ¯ï¼ˆä½¿ç”¨æ–¹å¼ä¸åŒï¼‰ï¼š
- âœ… VLMè§†è§‰æ¶ˆæ­§ï¼ˆåŸæ¡†æ¶åœ¨å·¥å…·é“¾ä¸­ï¼ŒRAG-COTåœ¨ä¿¡æ¯æ”¶é›†ä¸­ï¼‰
- âœ… LLMå·¥å…·è°ƒç”¨ï¼ˆåŸæ¡†æ¶é€šè¿‡ReAct Agentï¼ŒRAG-COTé€šè¿‡Chain Plannerï¼‰
- âœ… ä¸Šä¸‹æ–‡èåˆï¼ˆåŸæ¡†æ¶é€šè¿‡å·¥å…·é“¾ï¼ŒRAG-COTé€šè¿‡ç»“æ„åŒ–æ±‡æ€»ï¼‰

**æ ¸å¿ƒå·®å¼‚**ï¼šRAG-COTæ¡†æ¶é€šè¿‡**ä¸¤é˜¶æ®µæ¶æ„**å’Œ**æ˜¾å¼ä¿¡æ¯æ”¶é›†è§„åˆ’**ï¼Œå®ç°äº†æ›´ç³»ç»ŸåŒ–ã€æ›´å¯æ§çš„ç”¨æˆ·æŒ‡ä»¤ç†è§£æµç¨‹ï¼Œè€ŒåŸæ¡†æ¶ä¾èµ–Agentçš„è‡ªä¸»å†³ç­–å’Œå·¥å…·é“¾çš„è‡ªç„¶æµè½¬ã€‚

